<!DOCTYPE html>
<html lang="en" >

    <head>
        <meta charset="UTF-8">
        <title>机智科技- WITKIT.CN</title>

        <link rel="stylesheet" href="static/login/login-concept/css/style.css">
        <script src='static/js/jquery-2.1.1.min.js'></script>
        <script src="static/login/login-concept/js/index.js"></script>
        <link href="static/bar/my-navbar/css/demo-3/hover-min.css" rel="stylesheet" media="all">
        <style>
/*
body{  
    background:url(http://www.pptbz.com/pptpic/UploadFiles_6909/201105/2011051823374471.jpg);  
    filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(sizingMethod='scale')";  
    -moz-background-size:100% 100%;  
    background-size:100% 100%;  
    background-attachment: fixed;
} 
*/
        </style>


    </head>

    <body class="demo">

        <div  onclick="window.open('/','_self','')" nowrap style="position: absolute; top: 32px; left: 80px; ">
            <a   class="hvr-buzz"  onselectstart="return false;" style="cursor: pointer;  top: 16px;font-weight:bold; font-family:verdana,arial,sans-serif; font-size:32px;color:#49A3FF;">
                WITKIT 
            </a>
        </div>
        <div nowrap style="position: absolute; top: 38px; left: 190px; ">
            <a  style="top: 16px; letter-spacing:6px; font-size:22px; ;color:#fffffff2; font-family:Microsoft YaHei,微软雅黑,Tahoma,Verdana;">
                &nbsp;&nbsp;&nbsp;机智云
            </a>
        </div>




        <div class="wrapper center">
            <h1 style="font-size:32px; color:#fffffff2;font-family:youyuan;">登录云端</h1>
            <div class="anim-input ripple" data-ripple-color="#383838">
                <div class="label">请输入用户名</div>
                <input type="text" id="input_user">
            </div>
            <div class="anim-input ripple" data-ripple-color="#383838">
                <div class="label">请输入密码</div>
                <input type="password" id="input_pass">
            </div>

            <button id="but1" onclick="window.location.href='javascript:doPost()'" class="ripple" data-ripple-color="#000">登录</button>
            <link rel="stylesheet" href="static/pure-css3-colorful-loading/css/style.css">
            <div id="ajaxloader2" style="display:none;">
                <div class="outer"></div>
                <div class="inner"></div>
            </div>
        </div>

        <script  src="static/pure-css3-colorful-loading/js/index.js"></script>
        <footer style="font-size:20px"> © WWW.WITKIT.CN 版权所有</footer> 
    </body>
    <script type="text/javascript"> 

function createXHR() {
    if(typeof XMLHttpRequest != "undefined"){
    return new XMLHttpRequest();
}else if(typeof ActiveXObject != "undefined"){
    if(typeof arguments.callee.activeXString != "string"){
    var versions = ["MSXML2.XMLHttp.6.0", "MSXML2.XMLHttp.3.0", "MSXML2.XMLHttp"];

    for(var i=0, len=versions.length;i < len; i++){
    try{
    var xhr = new ActiveXObject(versions[i]);
    arguments.callee.activeXString = versions[i];
    return xhr;
}catch(ex){
    //跳过
}
}
}
    return new ActiveXObject(arguments.callee.activeXString);
}else{
    throw new Error("NO XHR object available");
}
}

    function doPost() { // to:提交动作（action）,p:参数 
    host = window.location.host;
    host2=document.domain; 
    //alert("http://"+ document.getElementById("input_user").value + "." +host+ "/login.cgi") 

    var obj = document.getElementById("ajaxloader2");
    obj.style.display= "block";

    //window.location.href="static/svg-spiral-loading/index.html";
    var xhr = createXHR();
    //var xhr = new XMLHttpRequest();
    xhr.open("POST", "http://"+ document.getElementById("input_user").value + "." +host+ "/login.cgi", true);
    //xhr.open("POST", "/login.cgi", true);

    xhr.setRequestHeader("X-Requested-With", "XMLHttpRequest"); //请求头部，需要服务端同时设置
    xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
    xhr.withCredentials = true;
    //注册相关事件回调处理函数
    xhr.onload = function(e) { 
    if(this.status == 200||this.status == 304){
    window.location.href="http://"+ document.getElementById("input_user").value + "." +host+ "/static/login/Login_v10/Login_v10/goto_starter.html";
}
};
    //xhr.setRequestHeader("Content-type", "application/json");
    //xhr.setRequestHeader("kbn-version", "5.3.0");
    xhr.send(JSON.stringify({
    "username" :  document.getElementById("input_user").value,
        "password" :  document.getElementById("input_pass").value
}));

    //window.location.href="http://"+ document.getElementById("input_user").value + "." +host+ "/static/login/Login_v10/Login_v10/goto_starter.html";
} 

    document.onkeydown = function (e) {
    var theEvent = window.event || e;
    var code = theEvent.keyCode || theEvent.which;
    if (code == 13) {
    $("#but1").click();
}
}
    </script> 

</html>
